(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{14:function(t,e,n){t.exports={form:"ContactForm_form__2XMRO",input:"ContactForm_input__3u-cS",button:"ContactForm_button__ykPzp"}},19:function(t,e,n){t.exports={listItem:"ContactListItem_listItem__evgrh",contact:"ContactListItem_contact__3b1NE",button:"ContactListItem_button__1xnym"}},23:function(t,e,n){t.exports={filterWrapper:"Filter_filterWrapper__14YIU",input:"Filter_input__SwNjm"}},24:function(t,e,n){t.exports={notificationWrapper:"Notification_notificationWrapper__10S6W",text:"Notification_text__3Vg6R"}},36:function(t,e,n){t.exports={heading:"Heading_heading__2NRpN"}},37:function(t,e,n){t.exports={section:"Section_section__2utxC"}},39:function(t,e,n){t.exports={list:"ContactList_list__1-CoO"}},40:function(t,e,n){t.exports={enter:"fadeContactList_enter__2eSoP",enterActive:"fadeContactList_enterActive__2Isxy",exit:"fadeContactList_exit__KPcN6",exitActive:"fadeContactList_exitActive__3fHP5"}},41:function(t,e,n){t.exports={enter:"fadeNotification_enter__2Qx4O",enterActive:"fadeNotification_enterActive__2Ky8k",exit:"fadeNotification_exit__hTu-N",exitActive:"fadeNotification_exitActive__2fWmo"}},42:function(t,e,n){t.exports={enter:"fadeFilter_enter__PRrfN",enterActive:"fadeFilter_enterActive__20Cxp",exit:"fadeFilter_exit__R-J0P",exitActive:"fadeFilter_exitActive__1Th8D"}},43:function(t,e,n){t.exports={appear:"fadeHeading_appear__1Tghu",appearActive:"fadeHeading_appearActive__ihc4A"}},46:function(t,e,n){t.exports=n(74)},73:function(t,e,n){},74:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(10),i=n.n(r),o=n(15),u=n(16),s=n(18),l=n(17),m=n(75),f=n(7),d=n(2),b={fetchContactsRequest:Object(d.b)("contacts/fetchRequest"),fetchContactsSuccess:Object(d.b)("contacts/fetchSuccess"),fetchContactsFailure:Object(d.b)("contacts/fetchFailure"),addContactRequest:Object(d.b)("contacts/addRequest"),addContactSuccess:Object(d.b)("contacts/addSuccess"),addContactFailure:Object(d.b)("contacts/addFailure"),removeContactRequest:Object(d.b)("contacts/removeRequest"),removeContactSuccess:Object(d.b)("contacts/removeSuccess"),removeContactFailure:Object(d.b)("contacts/removeFailure"),changeFilter:Object(d.b)("contacts/changeFilter")},p=n(8),_=function(t){return t.contacts.items},h=function(t){return t.contacts.filter},C={getContacts:_,getFilter:h,getVisibleContacts:Object(p.a)([_,h],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),getContactById:Object(p.a)([function(t,e){return e},_],(function(t,e){return e.find((function(e){return e.id===t}))}))},v=n(1),g=n.n(v),O=(g.a.string.isRequired,g.a.func.isRequired,g.a.arrayOf(g.a.shape({id:g.a.number.isRequired,name:g.a.string.isRequired,number:g.a.number.isRequired}).isRequired).isRequired,n(23)),N=n.n(O),R={onChangeFilter:b.changeFilter},x=Object(f.b)((function(t){return{value:C.getFilter(t),contacts:C.getContacts(t)}}),R)((function(t){var e=t.value,n=t.contacts,a=t.onChangeFilter;return n.length>1&&c.a.createElement("div",{className:N.a.filterWrapper},c.a.createElement("label",null,"Find contacts by name",c.a.createElement("input",{className:N.a.input,type:"text",autoComplete:"off",value:e,onChange:function(t){return a(t.target.value)}})))})),j=n(36),E=n.n(j),F=function(){return c.a.createElement("h1",{className:E.a.heading},"Phonebook")},q=(g.a.node.isRequired,n(37)),y=n.n(q),S=function(t){var e=t.children;return c.a.createElement("section",{className:y.a.section},e)},A=n(76),k=(g.a.arrayOf(g.a.shape({id:g.a.number.isRequired,name:g.a.string.isRequired,number:g.a.number.isRequired}).isRequired).isRequired,n(38)),L=n(13),I=n.n(L);I.a.defaults.baseURL="http://localhost:2000";var w,W={fetchContacts:function(){return function(t){t(b.fetchContactsRequest()),I.a.get("/contacts").then((function(e){var n=e.data;return t(b.fetchContactsSuccess(n))})).catch((function(e){return t(b.fetchContactsFailure(e))}))}},addContacts:function(t,e){return function(n){n(b.addContactRequest()),I.a.post("/contacts",{name:t,number:e}).then((function(t){var e=t.data;return n(b.addContactSuccess(e))})).catch((function(t){return n(b.addContactFailure(t))}))}},removeContact:function(t){return function(e){e(b.removeContactRequest()),I.a.delete("/contacts/".concat(t)).then((function(){return e(b.removeContactSuccess(t))})).catch((function(t){return e(b.removeContactFailure(t))}))}}},P=(g.a.string.isRequired,g.a.number.isRequired,g.a.func.isRequired,n(19)),T=n.n(P),H=Object(f.b)((function(t,e){var n=e.id;return Object(k.a)({},C.getContactById(t,n))}),(function(t,e){var n=e.id;return{onRemove:function(){return t(W.removeContact(n))}}}))((function(t){var e=t.name,n=t.number,a=t.onRemove;return c.a.createElement("li",{className:T.a.listItem},c.a.createElement("p",{className:T.a.contact},c.a.createElement("span",null,e,":")," ",n),c.a.createElement("button",{type:"button",className:T.a.button,onClick:a},"\u2716"))})),B=n(39),D=n.n(B),J=n(40),V=n.n(J),K=Object(f.b)((function(t){return{contacts:C.getVisibleContacts(t)}}))((function(t){var e=t.contacts;return e.length>0&&c.a.createElement(A.a,{component:"ul",className:D.a.list},e.map((function(t){var e=t.id;return c.a.createElement(m.a,{key:e,timeout:250,classNames:V.a},c.a.createElement(H,{key:e,id:e}))})))})),M=n(9),U=(g.a.func.isRequired,g.a.arrayOf(g.a.shape({id:g.a.number.isRequired,name:g.a.string.isRequired,number:g.a.number.isRequired}).isRequired).isRequired,n(24)),z=n.n(U),Q=function(){return c.a.createElement("div",{className:z.a.notificationWrapper},c.a.createElement("p",{className:z.a.text},"Contact is already exists!"))},X=n(14),Y=n.n(X),G=n(41),Z=n.n(G),$=function(t){Object(s.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:"",isNotice:!1},t.setNotificationTimeout=function(e){return setTimeout((function(){return t.setState({isNotice:!1})}),e)},t.handleChange=function(e){return t.setState(Object(M.a)({},e.target.name,e.target.value))},t.handleFormSubmit=function(e){if(e.preventDefault(),t.props.contacts.find((function(e){return e.name.toLowerCase()===t.state.name.toLowerCase()})))return t.setState({name:"",number:"",isNotice:!0}),t.setNotificationTimeout(1e3);t.props.onAddContact(t.state.name,Number(t.state.number)),t.setState({name:"",number:""})},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,a=t.isNotice;return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,{in:a,classNames:Z.a,timeout:250,unmountOnExit:!0},c.a.createElement(Q,null)),c.a.createElement("form",{className:Y.a.form,onSubmit:this.handleFormSubmit},c.a.createElement("label",null,"Name",c.a.createElement("input",{className:Y.a.input,autoFocus:!0,type:"text",name:"name",autoComplete:"off",value:e,onChange:this.handleChange})),c.a.createElement("label",null,"Number",c.a.createElement("input",{className:Y.a.input,type:"number",name:"number",autoComplete:"off",value:n,onChange:this.handleChange})),c.a.createElement("button",{className:Y.a.button,type:"submit"},"Add contact")))}}]),n}(a.Component),tt={onAddContact:W.addContacts},et=Object(f.b)((function(t){return{contacts:C.getContacts(t)}}),tt)($),nt=(g.a.func.isRequired,n(42)),at=n.n(nt),ct=n(43),rt=n.n(ct),it=function(t){Object(s.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return c.a.createElement(S,null,c.a.createElement(m.a,{in:!0,classNames:rt.a,timeout:500,appear:!0,unmountOnExit:!0},c.a.createElement(F,null)),c.a.createElement(et,null),c.a.createElement(m.a,{in:!0,classNames:at.a,timeout:250,unmountOnExit:!0},c.a.createElement(x,null)),c.a.createElement(K,null))}}]),n}(a.Component),ot={onFetchContacts:W.fetchContacts},ut=Object(f.b)(null,ot)(it),st=n(6),lt=n(44),mt=function(t,e){return e.payload},ft=function(t,e){var n=e.payload;return[].concat(Object(lt.a)(t),[n])},dt=function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))},bt=function(t,e){return e.payload},pt=Object(d.c)([],(w={},Object(M.a)(w,b.fetchContactsSuccess,mt),Object(M.a)(w,b.addContactSuccess,ft),Object(M.a)(w,b.removeContactSuccess,dt),w)),_t=Object(d.c)("",Object(M.a)({},b.changeFilter,bt)),ht=Object(st.c)({items:pt,filter:_t}),Ct=Object(d.a)({reducer:{contacts:ht}});n(73);i.a.render(c.a.createElement(f.a,{store:Ct},c.a.createElement(ut,null)),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.568ed44f.chunk.js.map